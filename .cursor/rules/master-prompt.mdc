---
name: master-prompt
description: This is a new rule
---

# Overview
Rules:
- Do NOT flatten or merge components
- Preserve the Figma layer hierarchy
- Each Frame or Group = one React component
- Nested layers = child components
- Use composition, not one large component

Styling:
- Match Figma values exactly (colors, spacing, typography)
- Extract repeated colors into CSS variables
- Use flexbox or grid where possible

Code:
- Use semantic HTML
- Components must be reusable
- Keep components small and readable
- Do not over-optimize or guess missing design

Storybook Rule:

- This project uses Storybook to develop and verify UI components.
- Every UI component must have a corresponding Storybook story.
- Components must be built and validated in isolation, not inside pages.
- Do not rely on application pages to test or style components.
- Stories should represent the component's default and key states only.

## Component Layer Isolation Rule

**CRITICAL: Layer Independence and Component Ownership**

1. **Layer Structure**:
   - **Layer** = Main category (Card, Paragraphs, Buttons, Navigation, Icons, Labels, etc.)
   - **Component** = Individual components within a layer (ItineraryCard, HotelDetails, FlightTransferDetails, etc.)
   - Components can have the same name across different layers

2. **Layer Independence**:
   - Each layer is independent and self-contained
   - NEVER import a component from one layer into another layer
   - Even if components look identical or functionally similar, create separate components within each layer

3. **Component Organization**:
   - All components within a layer are organized at the same level
   - Structure: `web/components/{Layer}/{ComponentName}/`
   - If a component is used by another component in the same layer, it's still organized at the same level (not nested)

4. **Self-Contained Components**:
   - Each component must include ALL its own styles, behavior, dependencies, and type definitions
   - Components should NOT depend on components from other layers

5. **When Extracting from Figma**:
   - Identify which layer the component belongs to based on context
   - Create separate components even if they look identical
   - All components in a layer are organized at the same directory level
